{"ModelName":"pager","ModelMetadata":{"Author":"Carlos Juega","DateCreated":"2021-11-22T00:03:37.069Z","DateLastModified":"2021-11-22T00:03:37.069Z","Description":"aircall interview","AWSService":"Amazon DynamoDB","Version":"2.0"},"DataModel":[{"TableName":"data","KeyAttributes":{"PartitionKey":{"AttributeName":"PK","AttributeType":"S"},"SortKey":{"AttributeName":"SK","AttributeType":"S"}},"NonKeyAttributes":[{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"id","AttributeType":"S"},{"AttributeName":"name","AttributeType":"S"},{"AttributeName":"status","AttributeType":"S"},{"AttributeName":"escalationPolicy","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"VERSION","AttributeType":"S"},{"AttributeName":"GSI1PK","AttributeType":"S"},{"AttributeName":"GSI1SK","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"id","AttributeType":"S"},{"AttributeName":"serviceId","AttributeType":"S"},{"AttributeName":"message","AttributeType":"S"},{"AttributeName":"status","AttributeType":"S"},{"AttributeName":"escalationPolicy","AttributeType":"S"},{"AttributeName":"createdAt","AttributeType":"S"},{"AttributeName":"resolvedAt","AttributeType":"S"},{"AttributeName":"VERSION","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"GSI1PK","AttributeType":"S"},{"AttributeName":"GSI1SK","AttributeType":"S"},{"AttributeName":"TTL","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"GSI2PK","AttributeType":"S"},{"AttributeName":"GSI2SK","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"target","AttributeType":"S"},{"AttributeName":"TTL","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"},{"AttributeName":"type","AttributeType":"S"}],"GlobalSecondaryIndexes":[{"KeyAttributes":{"PartitionKey":{"AttributeName":"GSI1PK","AttributeType":"S"},"SortKey":{"AttributeName":"GSI1SK","AttributeType":"S"}},"IndexName":"GSI1","Projection":{"ProjectionType":"ALL"}},{"KeyAttributes":{"PartitionKey":{"AttributeName":"GSI2PK","AttributeType":"S"},"SortKey":{"AttributeName":"GSI2SK","AttributeType":"S"}},"IndexName":"GSI2","Projection":{"ProjectionType":"ALL"}}],"TableData":[{"PK":{"S":"MonitoredService:MS1"},"SK":{"S":"MonitoredService#MS1"},"type":{"S":"MonitoredService"},"id":{"S":"MS1"},"name":{"S":"service 1"},"status":{"S":"Healthy"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"VERSION":{"S":"1"},"GSI1PK":{"S":"MonitoredServices"},"GSI1SK":{"S":"Healthy#service 1#MS1"}},{"PK":{"S":"MonitoredService:MS2"},"SK":{"S":"MonitoredService#MS2"},"type":{"S":"MonitoredService"},"id":{"S":"MS2"},"name":{"S":"service 2"},"status":{"S":"Unhealthy"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"VERSION":{"S":"4"},"GSI1PK":{"S":"MonitoredServices"},"GSI1SK":{"S":"Unhealthy#service 2#MS2"}},{"PK":{"S":"MonitoredService:MS3"},"SK":{"S":"MonitoredService#MS3"},"type":{"S":"MonitoredService"},"id":{"S":"MS3"},"name":{"S":"service 3"},"status":{"S":"Unhealthy"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"VERSION":{"S":"3"},"GSI1PK":{"S":"MonitoredServices"},"GSI1SK":{"S":"Unhealthy#service 3#MS3"}},{"PK":{"S":"MonitoredService:MS4"},"SK":{"S":"MonitoredService#MS4"},"type":{"S":"MonitoredService"},"id":{"S":"MS4"},"name":{"S":"service 4"},"status":{"S":"Healthy"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"VERSION":{"S":"7"},"GSI1PK":{"S":"MonitoredServices"},"GSI1SK":{"S":"Healthy#service 4#MS4"}},{"PK":{"S":"MonitoredService:MS1"},"SK":{"S":"Alert#2021-11-22T10:36:52#A1"},"type":{"S":"Alert"},"id":{"S":"A1"},"serviceId":{"S":"MS1"},"message":{"S":"bla bla bla bla"},"status":{"S":"Resolved"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"S":"2021-11-22T10:36:52"},"resolvedAt":{"S":"2021-11-22T10:40:52"},"VERSION":{"S":"3"},"GSI1PK":{"S":"Alert#A1"},"GSI1SK":{"S":"Alert#A1"},"TTL":{"S":"9999999999"},"GSI2PK":{"S":"Alerts"},"GSI2SK":{"S":"Resolved#2021-11-22T10:36:52#A1"}},{"PK":{"S":"MonitoredService:MS2"},"SK":{"S":"Alert#2021-11-22T10:44:31#A2"},"type":{"S":"Alert"},"id":{"S":"A2"},"serviceId":{"S":"MS2"},"message":{"S":"bla bla bla bla"},"status":{"S":"Resolved"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"S":"2021-11-22T10:44:31"},"resolvedAt":{"S":"2021-11-22T10:44:38"},"VERSION":{"S":"3"},"GSI1PK":{"S":"Alert#A2"},"GSI1SK":{"S":"Alert#A2"},"TTL":{"S":"9999999999"},"GSI2PK":{"S":"Alerts"},"GSI2SK":{"S":"Resolved#2021-11-22T10:44:31#A2"}},{"PK":{"S":"MonitoredService:MS2"},"SK":{"S":"Alert#2021-11-22T10:44:47#A3"},"type":{"S":"Alert"},"id":{"S":"A3"},"serviceId":{"S":"MS2"},"message":{"S":"bla bla bla bla"},"status":{"S":"Resolved"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"S":"2021-11-22T10:44:47"},"resolvedAt":{"S":"2021-11-22T10:44:54"},"VERSION":{"S":"3"},"GSI1PK":{"S":"Alert#A3"},"GSI1SK":{"S":"Alert#A3"},"TTL":{"S":"9999999999"},"GSI2PK":{"S":"Alerts"},"GSI2SK":{"S":"Resolved#2021-11-22T10:44:47#A3"}},{"PK":{"S":"MonitoredService:MS2"},"SK":{"S":"Alert#2021-11-22T10:45:07#A4"},"type":{"S":"Alert"},"id":{"S":"A4"},"serviceId":{"S":"MS2"},"message":{"S":"bla bla bla bla"},"status":{"S":"Acknowledged"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"S":"2021-11-22T10:45:07"},"resolvedAt":{"S":"null"},"VERSION":{"S":"2"},"GSI1PK":{"S":"Alert#A4"},"GSI1SK":{"S":"Alert#A4"},"GSI2PK":{"S":"Alerts"},"GSI2SK":{"S":"Acknowledged#2021-11-22T10:45:07#A4"}},{"PK":{"S":"MonitoredService:MS3"},"SK":{"S":"Alert#2021-11-22T10:46:50#A5"},"type":{"S":"Alert"},"id":{"S":"A5"},"serviceId":{"S":"MS3"},"message":{"S":"bla bla bla bla"},"status":{"S":"Resolved"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"S":"2021-11-22T10:46:50"},"resolvedAt":{"S":"2021-11-22T10:47:22"},"VERSION":{"S":"3"},"GSI1PK":{"S":"Alert#A5"},"GSI1SK":{"S":"Alert#A5"},"TTL":{"S":"9999999999"},"GSI2PK":{"S":"Alerts"},"GSI2SK":{"S":"Resolved#2021-11-22T10:46:50#A5"}},{"PK":{"S":"MonitoredService:MS3"},"SK":{"S":"Alert#2021-11-22T10:47:39#A6"},"type":{"S":"Alert"},"id":{"S":"A6"},"serviceId":{"S":"MS3"},"message":{"S":"bla bla bla bla"},"status":{"S":"Pending"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"S":"2021-11-22T10:47:39"},"resolvedAt":{"S":"null"},"VERSION":{"S":"1"},"GSI1PK":{"S":"Alert#A6"},"GSI1SK":{"S":"Alert#A6"},"GSI2PK":{"S":"Alerts"},"GSI2SK":{"S":"Pending#2021-11-22T10:47:39#A6"}},{"PK":{"S":"MonitoredService:MS4"},"SK":{"S":"Alert#2021-11-22T10:49:31#A7"},"type":{"S":"Alert"},"id":{"S":"A7"},"serviceId":{"S":"MS4"},"message":{"S":"bla bla bla bla"},"status":{"S":"Pending"},"escalationPolicy":{"S":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"S":"2021-11-22T10:49:31"},"resolvedAt":{"S":"null"},"VERSION":{"S":"1"},"GSI1PK":{"S":"Alert#A7"},"GSI1SK":{"S":"Alert#A7"},"GSI2PK":{"S":"Alerts"},"GSI2SK":{"S":"Pending#2021-11-22T10:49:31#A7"}},{"PK":{"S":"TargetNotified#aaa@bbb.com"},"SK":{"S":"TargetNotified#aaa@bbb.com"},"type":{"S":"TargetNotified"},"target":{"S":"aaa@bbb.com"},"TTL":{"S":"9999999999"}},{"PK":{"S":"TargetNotified#653 42 54 31"},"SK":{"S":"TargetNotified#653 42 54 31"},"type":{"S":"TargetNotified"},"target":{"S":"653 42 54 31"},"TTL":{"S":"9999999999"}},{"PK":{"S":"TargetNotified#bbb@aaa.com"},"SK":{"S":"TargetNotified#bbb@aaa.com"},"type":{"S":"TargetNotified"},"target":{"S":"bbb@aaa.com"},"TTL":{"S":"9999999999"}}],"ModelSchema":{"indexes":{"primary":{"hash":"PK","sort":"SK"},"GSI1":{"hash":"GSI1PK","sort":"GSI1SK","projection":"ALL"},"GSI2":{"hash":"GSI2PK","sort":"GSI2SK","projection":"ALL"}},"models":{"~new~":{"PK":{"type":"String"},"SK":{"type":"String"},"type":{"type":"String"}},"MonitoredService":{"type":{"type":"String"},"PK":{"type":"String"},"SK":{"type":"String","value":"${type}#${id}"},"id":{"type":"String"},"name":{"type":"String"},"status":{"type":"String"},"escalationPolicy":{"type":"String","value":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"VERSION":{"type":"String"},"GSI1PK":{"type":"String","value":"MonitoredServices"},"GSI1SK":{"type":"String","value":"${status}#${name}#${id}"}},"Alert":{"type":{"type":"String"},"PK":{"type":"String"},"SK":{"type":"String","value":"Alert#${createdAt}#${id}"},"id":{"type":"String"},"serviceId":{"type":"String"},"message":{"type":"String","value":"bla bla bla bla"},"status":{"type":"String"},"escalationPolicy":{"type":"String","value":"{levels: [{targets: [{type: 'Email', email: 'aaa@bbb.com'}, ...]}, ...]}"},"createdAt":{"type":"String"},"resolvedAt":{"type":"String"},"VERSION":{"type":"String"},"GSI1PK":{"type":"String","value":"Alert#${id}"},"GSI1SK":{"type":"String","value":"Alert#${id}"},"TTL":{"type":"String","value":"9999999999"},"GSI2PK":{"type":"String","value":"Alerts"},"GSI2SK":{"type":"String","value":"${status}#${createdAt}#${id}"}},"TargetNotified":{"type":{"type":"String"},"PK":{"type":"String"},"SK":{"type":"String","value":"TargetNotified#${target}"},"target":{"type":"String"},"TTL":{"type":"String","value":"9999999999"}}},"queries":{}}}]}